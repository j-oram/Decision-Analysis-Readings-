---
title: 'Chapter 2: Utility Theory'
author: "Jacob Oram"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Goal 

The goal of utility theory is to formalize the ordering of preferences for outcomes of actions by constructing a utility function $U(r)$ that consistently orders them.  
Since there is uncertainty in what outcome will actually occur, we often end up working with probability distributions of the outcomes, attempting to assign a 'value' to the distribution by computing its expected utility. 

## Key Definitions

Let 

* the *rewards*, denoted $\mathscr{R},$ be the set of all consequences of an action. Note that a reward $r \in \mathscr{R}$ may be vector-valued. 
* $\mathscr{P}$ denote the set of all probability distributions on $\mathscr{R}.$  Each element $P$ in $\mathscr{P}$ describes the probability (uncertainty) of a reward $r \in \mathscr{R}$ occurring as the result of an action. 


---

#### Definition 1: Preferences

If $P_1$ and $P_2$ are probability distributions in $\mathscr{P},$ then $P_1 \prec P_2$ means that $P_2$ is preferred to $P_1$; $P_1 \approx P_2$ mean that the $P_1$ is equivalent to $P_2$ in terms of preference; and $P_1 \preceq P_2$ means that $P_1$ is not preferrable to $P_2.$

---

Related to this definition are rationality axioms, which lay the foundation for how a rational being would make decisions. These assumptions make it possible to compare utility functions by ordering the preferences of the elements in $\mathscr{P}$ to match their expected utilities.

These are given below: 

* **Axiom 1**: If $P_1$ and $P_2$ are in $\mathscr{P}$, then either $P_1 \prec P_2, P_1 \approx P_2,$ or $P_2 \prec P_1.$ 

* **Axiom 2**: If $P_1 \preceq P_2$ and $P_2 \preceq P_3,$ then $P_1 \preceq P_3$. 

* **Axiom 3**: If $P_1 \prec P_2$, then $\alpha P_1 + (1-\alpha) P_3 \prec \alpha P_2  + (1-\alpha) P_3$ for any $0<\alpha<1$ and $P_3 \in \mathscr{P}$. 

* **Axiom 4**: (No Heaven or Hell) If $P_1 \prec P_2 \prec P_3$, there are numbers $0<\alpha, \beta <1$ such that $\alpha P_1 + (1 - \alpha) P_3 \prec P_2$ and $P_2 \prec \beta P_1 + (1-\beta)P_3$. 


## Constructing a utility function 

Pages 48 - 52 are concerned with how one might construct a utility function that satisfies the four rationality axioms. It is a somewhat complicated procedure, but essentially the thought process is to define utility of the worst outcome as 0 and the utility of the best outcome as 1 and then use these benchmarks for the utilities of supposed rewards $r_3$ and $r_4$ that fall a) between the best and worst outcomes $r_2$ and $r_1$, b) below $r_1$ and c) above $r_2.$ 


---
### Example: Expected winnings and utility


---


## From utility to loss 

The concept of a loss function is fairly intuitive, defining the loss as the negative utility: 

\[L(\theta, a) = -U(\theta,a).\]

The author notes that if the state of nature $\theta$ is a statistical parameter, then $U(\theta, a)$ really is the expected utility of the random variable $Z$ that encompasses not only the true parameter value, but also the random realization of an outcome based on that parameter. For example, if $\theta$ is the proportion of a population that would buy a certain product, then the reward and therefore expected utility of an action is a function of $\theta$ as well as of the number of people who *actually do* buy the product based on various economic factors. The state of the economy is one random part that determines $Z$ and therefore influences the utility of an action given state of nature $\theta$. 

The author also outlines several standard loss functions, including linear and squared-error loss. 
